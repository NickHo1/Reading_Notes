# 第1章　初识C语言



## 1.1 C语言的起源

​	C语言是在1972年由计算机科学家丹尼斯·里奇（Dennis Ritchie）开发出来的。它是一种高级编程语言，最初是为了编写操作系统而设计的。随着时间的推移，C语言发展出了许多不同的版本，并成为了一种广泛使用的语言，被用于各种各样的领域，包括系统编程、应用程序开发和数据科学。它的灵活性和可扩展性使它成为了一种非常流行的语言。



## 1.2 选择C语言的理由

 ![image-20221214193849662](/Users/he/Library/CloudStorage/OneDrive-个人/note/Reading_Notes/C Primer Plus/第一章 初识C语言.assets/image-20221214193849662.png)



### 1.2.1 设计特性

​	C语言的设计理念让用户能轻松地完成自顶向下的规划、结构化编程和模块化设计。

### 1.2.2 高效性

​	C语言具有通常是汇编语言才具有的微调控制能力（汇编语言是为特殊的中央处理单元设计的一系列内部指令，使用助记符来表示；不同的CPU系列使用不同的汇编语言），可以根据具体情况微调程序以获得最大运行速度或最有效地使用内存。

### 1.2.3 可移植性

​	C是可移植的语言。这意味着，在一种系统中编写的C程序稍作修改或不修改就能在其他系统运行。如需修改，也只需简单更改主程序头文件中的少许项即可。

### 1.2.4 强大而灵活

​	功能强大且灵活的UNIX操作系统，大部分是用C语言写的；其他语言（如，FORTRAN、Perl、Python、Pascal、LISP、Logo、BASIC）的许多编译器和解释器都是用C语言编写的。

### 1.2.5 面向程序员

​	C语言是为了满足程序员的需求而设计的，程序员利用C可以访问硬件、操控内存中的位。C语言有丰富的运算符，能让程序员简洁地表达自己的意图

### 1.2.6　缺点

​	要享受用C语言自由编程的乐趣，就必须承担更多的责任。特别是，C语言使用指针，而涉及指针的编程错误往往难以察觉。



## 1.3 C语言的应用范围

 ![image-20221214195135505](/Users/he/Library/CloudStorage/OneDrive-个人/note/Reading_Notes/C Primer Plus/第一章 初识C语言.assets/image-20221214195135505.png)



## 1.4 计算机能做什么

​	现代的计算机由多种部件构成。中央处理单元（CPU）承担绝大部分的运算工作。随机存取内存（RAM）是存储程序和文件的工作区；而永久内存存储设备（过去一般指机械硬盘，现在还包括固态硬盘）即使在关闭计算机后，也不会丢失之前存储的程序和文件。另外，还有各种外围设备（如，键盘、鼠标、触摸屏、监视器）提供人与计算机之间的交互。CPU负责处理程序

​	CPU的工作非常简单，至少从以下简短的描述中看是这样。它从内存中获取并执行一条指令，然后再从内存中获取并执行下一条指令，诸如此类（一个吉赫兹的CPU一秒钟能重复这样的操作大约十亿次，因此，CPU能以惊人的速度从事枯燥的工作）。CPU有自己的小工作区——由若干个寄存器组成，每个寄存器都可以存储一个数字。一个寄存器存储下一条指令的内存地址，CPU使用该地址来获取和更新下一条指令。在获取指令后，CPU在另一个寄存器中存储该指令，并更新第1个寄存器存储下一条指令的地址。CPU能理解的指令有限（这些指令的集合叫作指令集）。而且，这些指令相当具体，其中的许多指令都是用于请求计算机把一个数字从一个位置移动到另一个位置。例如，从内存移动到寄存器。

​	存储在计算机中的所有内容都是数字。计算机以数字形式存储数字和字符（如，在文本文档中使用的字母）。每个字符都有一个数字码。计算机载入寄存器的指令也以数字形式存储，指令集中的每条指令都有一个数字码，计算机程序最终必须以数字指令码（即，机器语言）来表示。

​	如果希望计算机做某些事，就必须为其提供特殊的指令列表（程序），确切地告诉计算机要做的事以及如何做。



## 1.5 高级计算机语言和编译器

​	编译器是把高级语言程序翻译成计算机能理解的机器语言指令集的程序。程序员进行高级思维活动，而编译器则负责处理冗长乏味的细节工作。

​	高级语言（如C、Java、Pascal）以更抽象的方式描述行为，不受限于特定CPU或指令集。而且，高级语言简单易学，用高级语言编程比用机器语言编程容易得多。



## 1.6 语言标准

​	美国国家标准协会（ANSI）于1983年组建了一个委员会（X3J11），开发了一套新标准，并于1989年正式公布。该标准（ANSI C）定义了C语言和C标准库。国际标准化组织于1990年采用了这套C标准（ISO C）

​	在该委员会制定的指导原则中，最有趣的可能是：保持C的精神。委员会在表述这一精神时列出了以下几点：

- 信任程序员；
- 不要妨碍程序员做需要做的事；
- 保持语言精练简单；
- 只提供一种方法执行一项操作；
- 让程序运行更快，即使不能保证其可移植性

​		作为实现，应该针对目标计算机来定义最合适的某特定操作，而不是强加一个抽象、统一的定义。



## 1.7 使用C语言的7个步骤

 ![image-20221214201226364](/Users/he/Library/CloudStorage/OneDrive-个人/note/Reading_Notes/C Primer Plus/第一章 初识C语言.assets/image-20221214201226364.png)



### 1.7.1 第1步：定义程序的目标

​	在动手写程序之前，要在脑中有清晰的思路。想要程序去做什么首先自己要明确自己想做什么，思考你的程序需要哪些信息，要进行哪些计算和控制，以及程序应该要报告什么信息。



### 1.7.2 第2步：设计程序

​	对程序应该完成什么任务有概念性的认识后，就应该考虑如何用程序来完成它。例如，用户界面应该是怎样的？如何组织程序？目标用户是谁？准备花多长时间来完成这个程序？

​	除此之外，还要决定在程序（还可能是辅助文件）中如何表示数据，以及用什么方法处理数据



### 1.7.3　第3步：编写代码

```c
#include "stdio.h"

int main(void) {
    //声明一个名为dogs的变量
    int dogs;
    //输出语句
    printf("How many dogs do you have?\n");
    //从键盘中获取输入，并存入变量
    scanf("%d", &dogs);
    //%d是占位符，可以在输出的字符串中加入变量
    printf("So you have %d dog(s)!\n", dogs);
    return 0;
}
```



### 1.7.4　第4步：编译

​	C编译器负责把C代码翻译成特定的机器语言。此外，C编译器还将源代码与C库（库中包含大量的标准函数供用户使用，如printf()和scanf()）的代码合并成最终的程序（更精确地说，应该是由一个被称为链接器的程序来链接库函数，但是在大多数系统中，编译器运行链接器）。其结果是，生成一个用户可以运行的可执行文件，其中包含着计算机能理解的代码。

​	编译器还会检查C语言程序是否有效。如果C编译器发现错误，就不生成可执行文件并报错。



### 1.7.5　第5步：运行程序

​	用户可以在IDE中通过选择菜单中的选项或按下特殊键来编辑和执行C程序。最终生成的程序可通过单击或双击文件名或图标直接在操作系统中运行。



### 1.7.6　第6步：测试和调试程序

​	程序的测试和调试是指对程序进行检查和修正错误的过程。测试通常是指对程序进行操作并验证它是否能够按照预期工作。调试则是指查找并修正程序中的错误（称为“bug”），使程序能够正常运行。通常，测试和调试是指为了确保程序的正确性而进行的活动。



### 1.7.7　第7步：维护和修改代码

​	程序的维护指的是对程序进行日常监控并修复问题的过程。这包括对程序进行定期检查，以确保它仍能按照预期工作，并对发现的问题进行修复。修改代码则是指更改程序的源代码，以改善程序的性能或增加新的功能。通常，维护和修改代码都是为了确保程序能够正常运行并满足用户的需求。



## 1.8　编程机制

​	生成程序的具体过程因计算机环境而异。C是可移植性语言，因此可以在许多环境中使用



### 1.8.1　目标代码文件、可执行文件和库

​	C编程的基本策略是，用程序把源代码文件转换为可执行文件。典型的C实现通过编译和链接两个步骤来完成这一过程。编译器把源代码转换成中间代码，链接器把中间代码和其他代码合并，生成可执行文件。C使用这种分而治之的方法方便对程序进行模块化，可以独立编译单独的模块，稍后再用链接器合并已编译的模块。

​	链接器的作用是，把编写的目标代码、系统的标准启动代码和库代码这3部分合并成一个文件，即可执行文件。对于库代码，链接器只会把程序中要用到的库函数代码提取出来

 ![image-20221214203034535](/Users/he/Library/CloudStorage/OneDrive-个人/note/Reading_Notes/C Primer Plus/第一章 初识C语言.assets/image-20221214203034535.png)

​	目标文件和可执行文件都由机器语言指令组成的。然而，目标文件中只包含编译器为你编写的代码翻译的机器语言代码，可执行文件中还包含你编写的程序中使用的库函数和启动代码的机器代码



## 复习题

1. 对编程而言，可移植性意味着什么？
   - 对于编程而言，可移植性指的是程序能够在多个平台上运行，而不需要修改它的源代码。这就意味着，如果一个程序被设计为可移植的，那么它应该能够在不同的操作系统、处理器架构和其他硬件平台上运行，而无需对代码进行任何修改。可移植性是软件工程中非常重要的一个概念，因为它能够让程序在更多的平台上使用，进而提高它的可重用性和可用性。

2. 解释源代码文件、目标代码文件和可执行文件有什么区别？

   - 源代码文件是程序的原始文本文件，包含了程序员编写的源代码。这些代码是高级语言（例如C++、Java、Python等）编写的，并且是人类可读的。

   - 目标代码文件是在将源代码编译成机器可执行代码时生成的文件。它包含了经过编译器转换后的低级代码，是由计算机可以直接执行的机器指令。

   - 可执行文件是一种特殊的文件，它包含了一个程序的二进制数据，在电脑上能够直接运行。通常，这些文件使用特定的扩展名，例如 .exe 或 .com，但有时它们也可以没有扩展名。

3. 编程的7个主要步骤是什么？

   1. 定义程序的目标：确定需要编写程序解决的问题，以及程序应该如何完成这个任务。

   2. 设计程序：构建程序的框架，并设计每个部分的功能。

   3. 编写代码：根据设计的框架编写代码，并确保代码符合程序的需求。

   4. 编译代码，包括将源代码转换为可执行文件。

   5. 运行程序：在不同的环境下用不同的方法来运行程序。

   6. 测试和调试程序：包括对程序进行测试，确保它能够正确处理各种情况并生成期望的输出。

   7. 维护和修改代码：定期检查程序，并修复任何问题或更新程序以满足新的需求。

4. 编译器的任务是什么？

​	编译器的任务是将源代码转换为可执行文件。源代码是使用特定编程语言编写的文本文件，包含了程序的指令和语句，而可执行文件则是电脑能直接执行的二进制数据。编译器将源代码转换为机器语言，使电脑能够理解并执行程序。

5. 链接器的任务是什么？

​	链接器的任务是将多个目标文件（通常是编译器生成的目标文件）合并为单个可执行文件。在编译源代码时，通常会将代码分割成多个模块，每个模块都会生成一个目标文件。链接器的作用就是将这些目标文件合并在一起，并将所有依赖的库文件和其他资源连接到可执行文件中，以便生成一个完整的可执行程序。